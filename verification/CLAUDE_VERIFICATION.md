# MAZEé¡¹ç›®éªŒè¯ç¯å¢ƒClaudeä½¿ç”¨æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£ä¸ºClaude Codeæä¾›MAZEéªŒè¯ç¯å¢ƒçš„ä¸“ä¸šæŒ‡å¯¼ï¼ŒåŒ…å«æ–‡ä»¶ç»“æ„è§„èŒƒã€éªŒè¯å·¥ä½œæµç¨‹å’Œæœ€ä½³å®è·µã€‚

## ğŸ—ï¸ æ–‡ä»¶ç»“æ„è§„èŒƒï¼ˆå¼ºåˆ¶æ‰§è¡Œï¼‰

### æ ¸å¿ƒåŸåˆ™
- **å¿…é¡»**éµå®ˆ `docs/FILE_STRUCTURE_STANDARD.md` ä¸­çš„æ‰€æœ‰è§„èŒƒ
- **ä¸¥ç¦**åœ¨ä»»ä½•ä½ç½®åˆ›å»ºä¸´æ—¶æ–‡ä»¶æˆ–é‡å¤ç›®å½•ç»“æ„
- **å¿…é¡»**ä½¿ç”¨æ ‡å‡†åŒ–çš„å‘½åçº¦å®š
- **å¿…é¡»**è¿è¡Œ `scripts/verification/check_file_structure.sh` éªŒè¯åˆè§„æ€§

### å…³é”®ç›®å½•è¯´æ˜

#### ğŸ§ª `testbench/` - æµ‹è¯•å°ä»£ç 
```
testbench/
â”œâ”€â”€ unit_tests/                # å•å…ƒæµ‹è¯•ï¼ˆæ¨¡å—çº§ï¼‰
â”‚   â”œâ”€â”€ node/                  # èŠ‚ç‚¹æ¨¡å—æµ‹è¯•
â”‚   â”œâ”€â”€ topo/                  # æ‹“æ‰‘æ¨¡å—æµ‹è¯•
â”‚   â”œâ”€â”€ arbiter/               # ä»²è£å™¨æµ‹è¯•
â”‚   â””â”€â”€ router_unit/           # è·¯ç”±å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration_tests/         # é›†æˆæµ‹è¯•ï¼ˆå¤šæ¨¡å—ï¼‰
â”‚   â””â”€â”€ node_basic_routing/    # èŠ‚ç‚¹åŸºæœ¬è·¯ç”±æµ‹è¯•
â”œâ”€â”€ system_tests/              # ç³»ç»Ÿæµ‹è¯•ï¼ˆå®Œæ•´ç½‘ç»œï¼‰
â”‚   â”œâ”€â”€ full_network/          # å®Œæ•´64èŠ‚ç‚¹ç½‘ç»œæµ‹è¯•
â”‚   â””â”€â”€ performance/           # æ€§èƒ½å’Œå‹åŠ›æµ‹è¯•
â””â”€â”€ utils/                     # æµ‹è¯•å·¥å…·å’Œåº“
```

#### ğŸ”§ `scripts/` - è‡ªåŠ¨åŒ–è„šæœ¬
```
scripts/
â”œâ”€â”€ build/                     # æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ build_simple_test.sh   # æ„å»ºåŸºæœ¬è·¯ç”±æµ‹è¯•
â”œâ”€â”€ run/                       # è¿è¡Œè„šæœ¬
â”‚   â””â”€â”€ run_all_tests.sh       # è¿è¡Œæ‰€æœ‰æµ‹è¯•
â”œâ”€â”€ analysis/                  # ç»“æœåˆ†æè„šæœ¬
â”‚   â””â”€â”€ collect_coverage.sh    # è¦†ç›–ç‡æ”¶é›†
â””â”€â”€ verification/              # è§„èŒƒæ£€æŸ¥è„šæœ¬
    â””â”€â”€ check_file_structure.sh # æ–‡ä»¶ç»“æ„æ£€æŸ¥
```

#### ğŸ—‚ï¸ `sim/` - ä»¿çœŸç¯å¢ƒ
```
sim/
â”œâ”€â”€ work/                      # ä¸´æ—¶å·¥ä½œç›®å½•ï¼ˆgitå¿½ç•¥ï¼‰
â”‚   â”œâ”€â”€ build/                 # ç¼–è¯‘äº§ç‰©
â”‚   â””â”€â”€ run/                   # è¿è¡Œæ—¶æ–‡ä»¶
â””â”€â”€ waves/                     # æ³¢å½¢æ–‡ä»¶å­˜å‚¨
    â”œâ”€â”€ vcd/                   # VCDæ ¼å¼
    â”œâ”€â”€ fst/                   # FSTæ ¼å¼
    â””â”€â”€ fsdb/                  # FSDBæ ¼å¼
```

## ğŸš€ éªŒè¯å·¥ä½œæµç¨‹

### 1. **ç¯å¢ƒæ£€æŸ¥**
åœ¨ä»»ä½•éªŒè¯å·¥ä½œå¼€å§‹å‰ï¼š
```bash
cd /Users/liangmx17/Documents/maze_mesh/verification
./scripts/verification/check_file_structure.sh
```

### 2. **åŸºæœ¬è·¯ç”±æµ‹è¯•ï¼ˆå½“å‰é‡ç‚¹ï¼‰**
```bash
# æ„å»ºå’Œè¿è¡ŒèŠ‚ç‚¹åŸºæœ¬è·¯ç”±æµ‹è¯•
cd /Users/liangmx17/Documents/maze_mesh/verification

# æ–¹æ³•1ï¼šä½¿ç”¨Makefileï¼ˆæ¨èï¼‰
make test-quick

# æ–¹æ³•2ï¼šç›´æ¥è¿è¡Œæ„å»ºè„šæœ¬
./scripts/build/build_simple_test.sh verilator 3 3
cd sim/work/build
./Vsimple_test
```

### 3. **æµ‹è¯•æ‰§è¡Œä½ç½®**
- **ç¼–è¯‘**: åœ¨ `sim/work/build/` ç›®å½•è¿›è¡Œ
- **è¿è¡Œ**: å¯æ‰§è¡Œæ–‡ä»¶ä½äº `sim/work/build/`
- **æ³¢å½¢**: å­˜å‚¨åœ¨ `sim/waves/` æŒ‰æ ¼å¼åˆ†ç±»

## ğŸ¯ å½“å‰éªŒè¯ç›®æ ‡

### P0çº§åˆ«æµ‹è¯•ï¼ˆèŠ‚ç‚¹åŸºæœ¬è·¯ç”±ï¼‰
åŸºäº `docs/test_plans/test_point_decomposition.md` 2.2èŠ‚ï¼š

1. **N-RF-001**: Xæ–¹å‘æ­£å‘è·¯ç”±æµ‹è¯•
2. **N-RF-002**: Xæ–¹å‘åå‘è·¯ç”±æµ‹è¯•
3. **N-RF-003**: Yæ–¹å‘æ­£å‘è·¯ç”±æµ‹è¯•
4. **N-RF-004**: Yæ–¹å‘åå‘è·¯ç”±æµ‹è¯•
5. **N-RF-005**: æœ¬åœ°è·¯ç”±æµ‹è¯•

### æµ‹è¯•å°ä½ç½®
- **ä¸»æµ‹è¯•å°**: `testbench/integration_tests/node_basic_routing/simple_test.sv`
- **èŠ‚ç‚¹åŒ…è£…å™¨**: `testbench/integration_tests/node_basic_routing/test_node_wrapper.sv`
- **C++æµ‹è¯•æ¡†æ¶**: `testbench/integration_tests/node_basic_routing/node_basic_routing_tb.cpp`

## âš ï¸ å·²çŸ¥é—®é¢˜å’Œä¿®å¤è¦æ±‚

### RTLå…³é”®bugï¼ˆå¿…é¡»ä¿®å¤ï¼‰
1. **æ•°ç»„è¶Šç•Œ**: `rtl/src/node/node.v:406` ä¸­ `arb_gnt_B[4]` åº”ä¸º `arb_gnt_B[3]`
2. **ä¿¡å·å†²çª**: `rtl/src/node/node.v:563-569` ä¸­readyä¿¡å·å¤šé‡é©±åŠ¨
3. **timescaleç¼ºå¤±**: IRSæ¨¡å—éœ€è¦æ·»åŠ  `timescale 1ns/1ps`

### éªŒè¯ç¯å¢ƒé—®é¢˜
1. **runè„šæœ¬ç¼ºå¤±**: éœ€è¦åˆ›å»º `scripts/run/run_node_basic_routing.sh`
2. **Makefileè·¯å¾„**: éœ€è¦æ›´æ–°ä¸ºæ–°çš„æ–‡ä»¶ç»“æ„è·¯å¾„

## ğŸ”§ Claudeä½¿ç”¨å»ºè®®

### éªŒè¯ä»»åŠ¡åˆ†é…åŸåˆ™
- **æµ‹è¯•å¼€å‘**: ä½¿ç”¨ `verilator-test-engineer` ä»£ç†
- **RTLåˆ†æ**: ä½¿ç”¨ `noc-design-reviewer` ä»£ç†
- **æµ‹è¯•è§„åˆ’**: ä½¿ç”¨ `test-point-decomposer` ä»£ç†

### æ–‡ä»¶æ“ä½œè§„èŒƒ
- **åªè¯»**: ä½¿ç”¨ `Read` å·¥å…·æŸ¥çœ‹æ–‡ä»¶
- **ä¿®æ”¹**: ä½¿ç”¨ `Edit` å·¥å…·ä¿®æ”¹ç°æœ‰æ–‡ä»¶
- **åˆ›å»º**: éµå¾ªæ–‡ä»¶ç»“æ„è§„èŒƒåˆ›å»ºæ–°æ–‡ä»¶
- **éªŒè¯**: ä¿®æ”¹åè¿è¡Œç»“æ„æ£€æŸ¥è„šæœ¬

### è°ƒè¯•å·¥ä½œæµç¨‹
1. **ç¼–è¯‘é—®é¢˜**: æ£€æŸ¥è·¯å¾„å’Œä¾èµ–å…³ç³»
2. **è¿è¡Œæ—¶é—®é¢˜**: åˆ†ææ³¢å½¢å’Œæ—¥å¿—
3. **åŠŸèƒ½é—®é¢˜**: å¯¹æ¯”é¢„æœŸå’Œå®é™…è¾“å‡º
4. **æ€§èƒ½é—®é¢˜**: ä½¿ç”¨æ€§èƒ½åˆ†æè„šæœ¬

## ğŸ“Š éªŒè¯æŠ¥å‘Š

### ç»“æœå­˜å‚¨
- **ä»¿çœŸç»“æœ**: `reports/simulation/`
- **è¦†ç›–ç‡æŠ¥å‘Š**: `reports/coverage/`
- **æ—¥å¿—æ–‡ä»¶**: `logs/simulation/`

### æŠ¥å‘Šæ ¼å¼
æ¯æ¬¡æµ‹è¯•å®Œæˆåï¼Œåº”ç”ŸæˆåŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„æŠ¥å‘Šï¼š
- æµ‹è¯•ç”¨ä¾‹æ‰§è¡ŒçŠ¶æ€
- è¦†ç›–ç‡ç»Ÿè®¡
- æ€§èƒ½æŒ‡æ ‡
- å‘ç°çš„é—®é¢˜å’Œä¿®å¤å»ºè®®

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æ–‡ä»¶ç»“æ„æ£€æŸ¥
```bash
# å®Œæ•´ç»“æ„æ£€æŸ¥
./scripts/verification/check_file_structure.sh

# æ£€æŸ¥ç‰¹å®šç›®å½•
./scripts/verification/check_file_structure.sh --help
```

### æµ‹è¯•æ„å»ºå’Œè¿è¡Œ
```bash
# æ„å»ºæµ‹è¯•
./scripts/build/build_simple_test.sh verilator 3 3

# è¿è¡Œæµ‹è¯•
cd sim/work/build && ./Vsimple_test

# ç”Ÿæˆæ³¢å½¢
./Vsimple_test +trace
```

### æ¸…ç†å’Œé‡å»º
```bash
# æ¸…ç†ä¸´æ—¶æ–‡ä»¶
rm -rf sim/work/

# é‡æ–°æ„å»º
make clean && make test-quick
```

## ğŸš« é‡è¦é™åˆ¶

### ç¦æ­¢è¡Œä¸º
1. **ä¸¥ç¦**åœ¨æ ¹ç›®å½•åˆ›å»ºæµ‹è¯•æ–‡ä»¶
2. **ä¸¥ç¦**æäº¤workç›®å½•å†…å®¹åˆ°git
3. **ä¸¥ç¦**ä½¿ç”¨éæ ‡å‡†å‘½åçº¦å®š
4. **ä¸¥ç¦**ç»•è¿‡ç»“æ„æ£€æŸ¥è„šæœ¬

### å¿…é¡»è¡Œä¸º
1. **å¿…é¡»**åœ¨ä¿®æ”¹å‰è¿è¡Œç»“æ„æ£€æŸ¥
2. **å¿…é¡»**éµå¾ªæµ‹è¯•å¼€å‘å·¥ä½œæµç¨‹
3. **å¿…é¡»**è®°å½•é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
4. **å¿…é¡»**ä¿æŒæ–‡æ¡£å’Œä»£ç åŒæ­¥

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **æ–‡ä»¶ç»“æ„è§„èŒƒ**: `docs/FILE_STRUCTURE_STANDARD.md` - å¿…è¯»
- **æµ‹è¯•ç»“æœåˆ¤æ–­æ ‡å‡†**: `docs/TEST_RESULT_VALIDATION_STANDARD.md` - å¼ºåˆ¶æ‰§è¡Œ
- **æµ‹è¯•ç‚¹åˆ†è§£**: `docs/test_plans/test_point_decomposition.md`
- **æµ‹è¯•ç”¨ä¾‹è§„æ ¼**: `docs/test_plans/test_cases_specification.md`
- **ç”¨æˆ·æŒ‡å—**: `docs/user_guides/node_basic_routing_guide.md`
- **é¡¹ç›®æ€»æŒ‡å—**: `../CLAUDE.md`

---

**âš ï¸ é‡è¦æé†’**: æ­¤éªŒè¯ç¯å¢ƒæœ‰ä¸¥æ ¼çš„æ–‡ä»¶ç»“æ„è§„èŒƒï¼Œä»»ä½•æ—¶å€™éƒ½å¿…é¡»å¼ºåˆ¶æ‰§è¡Œï¼ä½¿ç”¨å‰è¯·åŠ¡å¿…è¿è¡Œç»“æ„æ£€æŸ¥è„šæœ¬ã€‚